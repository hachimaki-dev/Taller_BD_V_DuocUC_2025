<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial PL/SQL Simplificado - Sistema Hospitalario</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    <style>
        .section-card {
            transition: all 0.3s ease;
        }
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        pre[class*="language-"] {
            margin: 0;
            border-radius: 0.5rem;
        }
        .copy-button {
            transition: all 0.2s;
        }
        .copy-button:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-green-50 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-lg">
        <div class="container mx-auto px-6 py-8">
            <h1 class="text-4xl font-bold mb-2">üè• Sistema Hospitalario - PL/SQL</h1>
            <p class="text-xl opacity-90">Introducci√≥n Pr√°ctica a Paquetes y Triggers</p>
            <div class="mt-4 bg-white/20 rounded-lg p-4">
                <p class="text-sm">‚è±Ô∏è 20 minutos | üë• Nivel: B√°sico-Intermedio | üìö C√≥digo reducido y explicable</p>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex flex-wrap gap-4 justify-center">
                <a href="#intro" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition">üìã Introducci√≥n</a>
                <a href="#tabla" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition">üîß Tabla Simple</a>
                <a href="#paquete" class="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition">üì¶ Paquete B√°sico</a>
                <a href="#trigger" class="px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition">‚ö° Trigger</a>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-6 py-8">
        
        <!-- Introducci√≥n -->
        <section id="intro" class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <span class="bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3">üìã</span>
                    ¬øQu√© vamos a hacer hoy?
                </h2>
                
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                        <h3 class="font-bold text-lg text-blue-800 mb-3">üéØ Plan de la Sesi√≥n</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>‚úÖ Crear una tabla simple de auditor√≠a</li>
                            <li>‚úÖ Hacer un paquete con 2 funciones sencillas</li>
                            <li>‚úÖ Crear un trigger autom√°tico</li>
                            <li>‚úÖ Probar todo con ejemplos reales</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                        <h3 class="font-bold text-lg text-green-800 mb-3">üí° ¬øPor qu√© esto es √∫til?</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>‚Ä¢ Los paquetes organizan tu c√≥digo</li>
                            <li>‚Ä¢ Los triggers automatizan tareas repetitivas</li>
                            <li>‚Ä¢ Son t√©cnicas que usan empresas reales</li>
                            <li>‚Ä¢ Todo el c√≥digo es corto y explicable</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-lg">
                    <h3 class="font-bold text-lg text-yellow-800 mb-3">üéì Para el Profesor</h3>
                    <p class="text-gray-700">
                        Este tutorial tiene <strong>ejemplos peque√±os y completos</strong>. Cada pieza de c√≥digo tiene m√°ximo 15-20 l√≠neas. 
                        Puedes explicar l√≠nea por l√≠nea sin apuros. Los conceptos son los mismos que en sistemas profesionales, 
                        pero con implementaciones m√°s simples.
                    </p>
                </div>
            </div>
        </section>

        <!-- Secci√≥n 1: Crear tabla de auditor√≠a -->
        <section id="tabla" class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8 section-card">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold text-gray-800 flex items-center">
                        <span class="bg-green-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3">üîß</span>
                        Paso 1: Crear Tabla de Auditor√≠a
                    </h2>
                    <div class="bg-green-100 text-green-700 px-4 py-2 rounded-lg font-semibold">
                        ‚è±Ô∏è 3 minutos
                    </div>
                </div>

                <div class="mb-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                    <p class="text-gray-700"><strong>üéØ Objetivo:</strong> Crear una tabla simple para guardar historial de cambios en platillos.</p>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3">üìö Explicaci√≥n</h3>
                    <p class="text-gray-700 mb-4">
                        Queremos saber <strong>qui√©n</strong> modific√≥ un platillo, <strong>cu√°ndo</strong> lo hizo, 
                        y <strong>qu√©</strong> cambi√≥. Esta tabla guardar√° esa informaci√≥n autom√°ticamente.
                    </p>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center justify-between">
                        <span>üíª C√≥digo SQL</span>
                        <button onclick="copyCode('code1')" class="copy-button bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600">
                            üìã Copiar
                        </button>
                    </h3>
                    <pre id="code1"><code class="language-sql">-- Crear tabla de auditor√≠a (solo 5 columnas)
CREATE TABLE AUDITORIA_PLATILLO (
    id NUMBER PRIMARY KEY,
    id_platillo NUMBER,
    nombre_anterior VARCHAR2(100),
    nombre_nuevo VARCHAR2(100),
    fecha TIMESTAMP DEFAULT SYSTIMESTAMP,
    usuario VARCHAR2(50) DEFAULT USER
);

-- Verificar que se cre√≥ correctamente
SELECT * FROM AUDITORIA_PLATILLO;</code></pre>
                </div>

                <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                    <h4 class="font-bold text-green-800 mb-2">‚úÖ Puntos a explicar:</h4>
                    <ul class="space-y-2 text-gray-700">
                        <li>‚Ä¢ <strong>DEFAULT SYSTIMESTAMP:</strong> Se llena autom√°ticamente con la fecha/hora actual</li>
                        <li>‚Ä¢ <strong>DEFAULT USER:</strong> Se llena autom√°ticamente con el usuario de Oracle</li>
                        <li>‚Ä¢ Esta tabla es muy simple, solo guarda lo esencial</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Secci√≥n 2: Paquete Simple -->
        <section id="paquete" class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8 section-card">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold text-gray-800 flex items-center">
                        <span class="bg-purple-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3">üì¶</span>
                        Paso 2: Paquete B√°sico de Inventario
                    </h2>
                    <div class="bg-purple-100 text-purple-700 px-4 py-2 rounded-lg font-semibold">
                        ‚è±Ô∏è 10 minutos
                    </div>
                </div>

                <div class="mb-6 bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                    <p class="text-gray-700"><strong>üéØ Objetivo:</strong> Crear un paquete con solo 2 funciones: una para verificar stock y otra para contar ingredientes.</p>
                </div>

                <!-- Especificaci√≥n -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">üìã A) Especificaci√≥n (la "portada" del paquete)</h3>
                    <p class="text-gray-700 mb-4">
                        Aqu√≠ solo <strong>anunciamos</strong> qu√© funciones tendremos. No decimos c√≥mo funcionan todav√≠a.
                    </p>
                    
                    <div class="mb-4">
                        <button onclick="copyCode('code2')" class="copy-button bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 mb-2">
                            üìã Copiar
                        </button>
                        <pre id="code2"><code class="language-sql">CREATE OR REPLACE PACKAGE PKG_INVENTARIO_SIMPLE AS
    
    -- Funci√≥n 1: Verifica si hay stock de UN ingrediente espec√≠fico
    FUNCTION hay_stock(p_id_ingrediente NUMBER, p_cantidad_necesaria NUMBER) 
    RETURN BOOLEAN;
    
    -- Funci√≥n 2: Cuenta cu√°ntos ingredientes usa un platillo
    FUNCTION contar_ingredientes(p_id_platillo NUMBER) 
    RETURN NUMBER;
    
END PKG_INVENTARIO_SIMPLE;
/</code></pre>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                        <p class="text-gray-700"><strong>üí° Explicar:</strong> Esto es como el "√≠ndice" de un libro. Solo dice qu√© temas hay, no explica el contenido a√∫n.</p>
                    </div>
                </div>

                <!-- Cuerpo -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">‚öôÔ∏è B) Cuerpo (el "contenido" del paquete)</h3>
                    <p class="text-gray-700 mb-4">
                        Aqu√≠ <strong>implementamos</strong> c√≥mo funciona cada funci√≥n. El c√≥digo es corto y claro.
                    </p>
                    
                    <div class="mb-4">
                        <button onclick="copyCode('code3')" class="copy-button bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 mb-2">
                            üìã Copiar
                        </button>
                        <pre id="code3"><code class="language-sql">CREATE OR REPLACE PACKAGE BODY PKG_INVENTARIO_SIMPLE AS
    
    -- Implementaci√≥n Funci√≥n 1: Verificar stock
    FUNCTION hay_stock(p_id_ingrediente NUMBER, p_cantidad_necesaria NUMBER) 
    RETURN BOOLEAN IS
        v_stock_actual NUMBER;
    BEGIN
        -- Obtenemos el stock actual del ingrediente
        SELECT cantidad INTO v_stock_actual
        FROM STOCK_INGREDIENTES
        WHERE id_ingrediente = p_id_ingrediente;
        
        -- Comparamos: ¬øhay suficiente?
        IF v_stock_actual >= p_cantidad_necesaria THEN
            RETURN TRUE;  -- S√≠ hay stock
        ELSE
            RETURN FALSE; -- No hay suficiente
        END IF;
    END hay_stock;
    
    -- Implementaci√≥n Funci√≥n 2: Contar ingredientes
    FUNCTION contar_ingredientes(p_id_platillo NUMBER) 
    RETURN NUMBER IS
        v_cantidad NUMBER;
    BEGIN
        -- Contamos cu√°ntos ingredientes tiene el platillo
        SELECT COUNT(*) INTO v_cantidad
        FROM INGREDIENTES_PLATILLOS
        WHERE id_platillo = p_id_platillo;
        
        RETURN v_cantidad;
    END contar_ingredientes;
    
END PKG_INVENTARIO_SIMPLE;
/</code></pre>
                    </div>
                </div>

                <!-- Ejemplos de Uso -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">üß™ C) Probar el Paquete</h3>
                    <p class="text-gray-700 mb-4">Vamos a usar nuestras funciones con datos reales:</p>
                    
                    <div class="mb-4">
                        <button onclick="copyCode('code4')" class="copy-button bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 mb-2">
                            üìã Copiar
                        </button>
                        <pre id="code4"><code class="language-sql">-- Activar salida de mensajes
SET SERVEROUTPUT ON;

-- Prueba 1: ¬øHay stock de 5kg del ingrediente ID 1?
DECLARE
    v_resultado BOOLEAN;
BEGIN
    v_resultado := PKG_INVENTARIO_SIMPLE.hay_stock(1, 5);
    
    IF v_resultado THEN
        DBMS_OUTPUT.PUT_LINE('‚úÖ S√ç hay stock suficiente');
    ELSE
        DBMS_OUTPUT.PUT_LINE('‚ùå NO hay stock suficiente');
    END IF;
END;
/

-- Prueba 2: ¬øCu√°ntos ingredientes tiene el platillo ID 10?
DECLARE
    v_total NUMBER;
BEGIN
    v_total := PKG_INVENTARIO_SIMPLE.contar_ingredientes(10);
    DBMS_OUTPUT.PUT_LINE('El platillo tiene ' || v_total || ' ingredientes');
END;
/</code></pre>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                        <h4 class="font-bold text-blue-800 mb-2">‚úÖ Ventajas de este enfoque</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li>‚Ä¢ Solo 2 funciones = f√°cil de explicar</li>
                            <li>‚Ä¢ Cada funci√≥n hace UNA cosa clara</li>
                            <li>‚Ä¢ No hay conversiones complicadas</li>
                            <li>‚Ä¢ Puedes explicar l√≠nea por l√≠nea</li>
                        </ul>
                    </div>
                    
                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                        <h4 class="font-bold text-yellow-800 mb-2">üéì Para el estudiante</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li>‚Ä¢ Pueden agregar m√°s funciones despu√©s</li>
                            <li>‚Ä¢ Este es el patr√≥n b√°sico de TODO paquete</li>
                            <li>‚Ä¢ Entender esto = entender el 80% de PL/SQL</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n 3: Trigger Simple -->
        <section id="trigger" class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8 section-card">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold text-gray-800 flex items-center">
                        <span class="bg-orange-500 text-white rounded-full w-10 h-10 flex items-center justify-center mr-3">‚ö°</span>
                        Paso 3: Trigger Autom√°tico
                    </h2>
                    <div class="bg-orange-100 text-orange-700 px-4 py-2 rounded-lg font-semibold">
                        ‚è±Ô∏è 7 minutos
                    </div>
                </div>

                <div class="mb-6 bg-orange-50 border-l-4 border-orange-500 p-4 rounded">
                    <p class="text-gray-700"><strong>üéØ Objetivo:</strong> Crear un trigger que guarde autom√°ticamente en la tabla de auditor√≠a cuando alguien cambie el nombre de un platillo.</p>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3">üìö ¬øQu√© es un Trigger?</h3>
                    <p class="text-gray-700 mb-4">
                        Es como una <strong>"trampa autom√°tica"</strong>. Cuando alguien hace un UPDATE en PLATILLOS, 
                        el trigger se dispara solito y guarda el cambio en nuestra tabla de auditor√≠a. 
                        ¬°No tienes que hacer nada manualmente!
                    </p>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3">üíª C√≥digo del Trigger</h3>
                    <button onclick="copyCode('code5')" class="copy-button bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 mb-2">
                        üìã Copiar
                    </button>
                    <pre id="code5"><code class="language-sql">CREATE OR REPLACE TRIGGER TRG_AUDITORIA_SIMPLE
AFTER UPDATE ON PLATILLOS
FOR EACH ROW
BEGIN
    -- Solo guardamos si el NOMBRE cambi√≥
    IF :OLD.nombre != :NEW.nombre THEN
        INSERT INTO AUDITORIA_PLATILLO (
            id,
            id_platillo,
            nombre_anterior,
            nombre_nuevo
        ) VALUES (
            (SELECT NVL(MAX(id), 0) + 1 FROM AUDITORIA_PLATILLO),
            :OLD.id,
            :OLD.nombre,
            :NEW.nombre
        );
    END IF;
END;
/</code></pre>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-3">üß™ Probar el Trigger</h3>
                    <button onclick="copyCode('code6')" class="copy-button bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 mb-2">
                        üìã Copiar
                    </button>
                    <pre id="code6"><code class="language-sql">-- Paso 1: Ver c√≥mo est√° el platillo ahora
SELECT id, nombre FROM PLATILLOS WHERE id = 10;

-- Paso 2: Cambiar el nombre (aqu√≠ se dispara el trigger autom√°ticamente)
UPDATE PLATILLOS 
SET nombre = 'Ensalada C√©sar Especial'
WHERE id = 10;

-- Paso 3: Ver que se guard√≥ en auditor√≠a
SELECT id_platillo, nombre_anterior, nombre_nuevo, 
       TO_CHAR(fecha, 'DD/MM/YYYY HH24:MI') AS cuando,
       usuario
FROM AUDITORIA_PLATILLO;

-- Resultado: Ver√°s el cambio registrado autom√°ticamente!</code></pre>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                        <h4 class="font-bold text-blue-800 mb-2">üí° Conceptos del Trigger</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li><strong>AFTER UPDATE:</strong> Se ejecuta DESPU√âS del cambio</li>
                            <li><strong>FOR EACH ROW:</strong> Una vez por cada fila modificada</li>
                            <li><strong>:OLD.nombre:</strong> El nombre ANTES del cambio</li>
                            <li><strong>:NEW.nombre:</strong> El nombre DESPU√âS del cambio</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                        <h4 class="font-bold text-green-800 mb-2">‚úÖ ¬øPor qu√© es √∫til?</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li>‚Ä¢ Nadie puede "olvidar" guardar el historial</li>
                            <li>‚Ä¢ Funciona 24/7 autom√°ticamente</li>
                            <li>‚Ä¢ Puedes ver qui√©n cambi√≥ qu√© y cu√°ndo</li>
                            <li>‚Ä¢ Es como tener una c√°mara de seguridad en tu BD</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resumen -->
        <section class="mb-8">
            <div class="bg-gradient-to-r from-blue-600 to-green-600 text-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold mb-6">üéØ Resumen: ¬øQu√© aprendimos?</h2>
                
                <div class="grid md:grid-cols-3 gap-6 mb-6">
                    <div class="bg-white/10 backdrop-blur rounded-lg p-6">
                        <h3 class="text-xl font-bold mb-4">1Ô∏è‚É£ Tabla de Auditor√≠a</h3>
                        <p class="text-sm">Una tabla simple para guardar historial de cambios</p>
                    </div>
                    
                    <div class="bg-white/10 backdrop-blur rounded-lg p-6">
                        <h3 class="text-xl font-bold mb-4">2Ô∏è‚É£ Paquete B√°sico</h3>
                        <p class="text-sm">Especificaci√≥n + Cuerpo con 2 funciones √∫tiles y simples</p>
                    </div>
                    
                    <div class="bg-white/10 backdrop-blur rounded-lg p-6">
                        <h3 class="text-xl font-bold mb-4">3Ô∏è‚É£ Trigger Autom√°tico</h3>
                        <p class="text-sm">Se dispara solo cuando hay cambios, sin intervenci√≥n manual</p>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur rounded-lg p-6">
                    <h3 class="text-xl font-bold mb-3">üí¨ Lo M√°s Importante</h3>
                    <p class="text-lg">
                        Estos tres conceptos (tabla, paquete, trigger) son los <strong>fundamentos de PL/SQL profesional</strong>. 
                        Los ejemplos son peque√±os y simples a prop√≥sito, pero la l√≥gica es la misma que usan 
                        sistemas de bancos, hospitales y grandes empresas. Una vez que dominas estos conceptos b√°sicos, 
                        solo es cuesti√≥n de hacer el c√≥digo m√°s largo, pero <strong>la estructura es siempre la misma</strong>.
                    </p>
                </div>
            </div>
        </section>

        <!-- Actividades para Estudiantes -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">üìù Actividades para Practicar</h2>
                
                <div class="space-y-4">
                    <div class="flex items-start space-x-3 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                        <span class="text-2xl">üìå</span>
                        <div>
                            <p class="font-bold text-blue-800">Actividad 1: Agregar una funci√≥n m√°s</p>
                            <p class="text-gray-700">Al paquete PKG_INVENTARIO_SIMPLE, agrega una funci√≥n que calcule el total de platillos en la base de datos.</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                        <span class="text-2xl">üìå</span>
                        <div>
                            <p class="font-bold text-green-800">Actividad 2: Trigger para otra tabla</p>
                            <p class="text-gray-700">Crea un trigger similar pero para la tabla MENUS. Guarda cambios en el campo "nombre" en una tabla AUDITORIA_MENU.</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3 p-4 bg-purple-50 rounded-lg border-l-4 border-purple-500">
                        <span class="text-2xl">üìå</span>
                        <div>
                            <p class="font-bold text-purple-800">Actividad 3: Procedimiento simple</p>
                            <p class="text-gray-700">Agrega al paquete un procedimiento que imprima los nombres de todos los platillos. Usa DBMS_OUTPUT.PUT_LINE y un cursor simple.</p>
                        </div>
                    </div>
                </div>

                <div class="mt-6 bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                    <p class="text-gray-700">
                        <strong>üí° Tip:</strong> Estas actividades son progresivas. Empieza por la 1, luego la 2, y finalmente la 3. 
                        Cada una te ense√±ar√° un concepto nuevo sin abrumarte con c√≥digo largo.
                    </p>
                </div>
            </div>
        </section>

        <!-- Tips Finales -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">üë®‚Äçüè´ Tips Finales para el Profesor</h2>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                        <h3 class="font-bold text-green-800 mb-3">‚úÖ Lo que S√ç hacer</h3>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li>‚úì Ejecuta cada bloque de c√≥digo en vivo</li>
                            <li>‚úì Explica :OLD y :NEW con dibujos o analog√≠as</li>
                            <li>‚úì Muestra la tabla de auditor√≠a despu√©s del UPDATE</li>
                            <li>‚úì Pregunta "¬øqu√© creen que pasar√° aqu√≠?"</li>
                            <li>‚úì Deja que los estudiantes modifiquen valores</li>
                        </ul>
                    </div>
                    
                    <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-500">
                        <h3 class="font-bold text-red-800 mb-3">‚ùå Lo que NO hacer</h3>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li>‚úó No intentes explicar TODO el c√≥digo de una vez</li>
                            <li>‚úó No agregues m√°s funciones "porque s√≠"</li>
                            <li>‚úó No te saltes la parte de PROBAR el c√≥digo</li>
                            <li>‚úó No asumas que entienden :OLD y :NEW</li>
                            <li>‚úó No olvides SET SERVEROUTPUT ON</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                    <h3 class="font-bold text-blue-800 mb-3">üéØ Estrategia de Ense√±anza</h3>
                    <div class="space-y-2 text-gray-700">
                        <p><strong>Minutos 1-3:</strong> Crear la tabla de auditor√≠a y explicar su prop√≥sito</p>
                        <p><strong>Minutos 4-13:</strong> Crear el paquete (especificaci√≥n + cuerpo + pruebas)</p>
                        <p><strong>Minutos 14-20:</strong> Crear el trigger y ver c√≥mo funciona en tiempo real</p>
                        <p><strong>√öltimos minutos:</strong> Preguntas y mostrar las actividades para practicar</p>
                    </div>
                </div>

                <div class="mt-6 bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                    <h3 class="font-bold text-purple-800 mb-3">üí™ Frases Motivacionales</h3>
                    <ul class="space-y-2 text-gray-700 text-sm">
                        <li>"Este paquete tiene solo 2 funciones, pero usa la MISMA estructura que paquetes de 50 funciones en empresas"</li>
                        <li>"Los triggers son como 'robots' que trabajan 24/7 sin quejarse ni olvidar nada"</li>
                        <li>"Si entienden estos 3 conceptos hoy, ya saben hacer el 80% de lo que necesitan en PL/SQL"</li>
                        <li>"El c√≥digo es corto, pero el conocimiento es PODEROSO"</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Comparaci√≥n con la versi√≥n avanzada -->
        <section class="mb-8">
            <div class="bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold mb-6">üîÑ Diferencias con la Versi√≥n Avanzada</h2>
                
                <div class="bg-white/20 backdrop-blur rounded-lg p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4">¬øQu√© eliminamos para simplificar?</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <p class="font-bold mb-2">‚ùå Eliminado:</p>
                            <ul class="space-y-1 text-sm">
                                <li>‚Ä¢ Conversiones de unidades (g‚Üíkg, ml‚ÜíL)</li>
                                <li>‚Ä¢ Cursores complejos con m√∫ltiples joins</li>
                                <li>‚Ä¢ Funciones con 4-5 par√°metros</li>
                                <li>‚Ä¢ C√°lculos de porciones disponibles</li>
                                <li>‚Ä¢ Procedimientos de consumo de stock</li>
                                <li>‚Ä¢ Manejo de DELETE en triggers</li>
                            </ul>
                        </div>
                        <div>
                            <p class="font-bold mb-2">‚úÖ Mantenido:</p>
                            <ul class="space-y-1 text-sm">
                                <li>‚Ä¢ Estructura correcta de paquetes</li>
                                <li>‚Ä¢ Sintaxis v√°lida y profesional</li>
                                <li>‚Ä¢ Conceptos fundamentales completos</li>
                                <li>‚Ä¢ Ejemplos funcionales y reales</li>
                                <li>‚Ä¢ Buenas pr√°cticas de nomenclatura</li>
                                <li>‚Ä¢ L√≥gica de auditor√≠a real</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur rounded-lg p-6">
                    <h3 class="text-xl font-bold mb-3">üí° Resultado</h3>
                    <p class="text-lg">
                        Pasamos de <strong>~200 l√≠neas de c√≥digo</strong> en la versi√≥n avanzada a 
                        <strong>~60 l√≠neas</strong> en esta versi√≥n simplificada. Los estudiantes aprenden 
                        <strong>exactamente los mismos conceptos</strong>, pero sin abrumarse. 
                        Cuando dominen esto, pueden avanzar a la versi√≥n completa.
                    </p>
                </div>
            </div>
        </section>

        <!-- Preguntas Frecuentes -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">‚ùì Preguntas Frecuentes de Estudiantes</h2>
                
                <div class="space-y-4">
                    <details class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                        <summary class="font-bold text-blue-800 cursor-pointer">¬øPor qu√© separar especificaci√≥n y cuerpo?</summary>
                        <p class="text-gray-700 mt-3">
                            Imagina que tienes una caja misteriosa. La especificaci√≥n es la etiqueta que dice "dentro hay herramientas", 
                            pero no explica c√≥mo funcionan. El cuerpo es cuando abres la caja y ves los tornillos y engranajes. 
                            Esto permite que otros programadores usen tu paquete sin necesitar saber todos los detalles internos.
                        </p>
                    </details>

                    <details class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                        <summary class="font-bold text-green-800 cursor-pointer">¬øQu√© significa RETURN BOOLEAN?</summary>
                        <p class="text-gray-700 mt-3">
                            BOOLEAN es un tipo de dato que solo puede ser TRUE (verdadero) o FALSE (falso). Es perfecto para funciones 
                            que responden preguntas de S√≠ o No, como "¬øhay stock?" o "¬øel usuario tiene permisos?".
                        </p>
                    </details>

                    <details class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                        <summary class="font-bold text-purple-800 cursor-pointer">¬øPor qu√© usar :OLD y :NEW con dos puntos?</summary>
                        <p class="text-gray-700 mt-3">
                            Los dos puntos (:) indican que son "variables especiales" del trigger. :OLD tiene los valores ANTES del cambio, 
                            :NEW tiene los valores DESPU√âS. Es como una foto del "antes y despu√©s" de cada fila modificada.
                        </p>
                    </details>

                    <details class="bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500">
                        <summary class="font-bold text-orange-800 cursor-pointer">¬øEl trigger necesita COMMIT?</summary>
                        <p class="text-gray-700 mt-3">
                            NO. Los triggers son parte de la transacci√≥n principal. Si haces UPDATE en PLATILLOS, el cambio en PLATILLOS 
                            Y el INSERT en AUDITORIA_PLATILLO se guardan juntos autom√°ticamente con un solo COMMIT.
                        </p>
                    </details>

                    <details class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                        <summary class="font-bold text-yellow-800 cursor-pointer">¬øPuedo tener m√∫ltiples paquetes?</summary>
                        <p class="text-gray-700 mt-3">
                            ¬°Por supuesto! En sistemas grandes es com√∫n tener PKG_INVENTARIO, PKG_VENTAS, PKG_USUARIOS, etc. 
                            Cada paquete agrupa funciones relacionadas. Es como tener diferentes cajas de herramientas para diferentes trabajos.
                        </p>
                    </details>
                </div>
            </div>
        </section>

        <!-- Errores Comunes -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">‚ö†Ô∏è Errores Comunes y Soluciones</h2>
                
                <div class="space-y-4">
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-lg">
                        <h3 class="font-bold text-red-800 mb-2">Error: "PLS-00302: component must be declared"</h3>
                        <p class="text-gray-700 mb-2"><strong>Causa:</strong> Creaste el cuerpo antes que la especificaci√≥n, o hay un typo en el nombre.</p>
                        <p class="text-gray-700"><strong>Soluci√≥n:</strong> Siempre crear PRIMERO la especificaci√≥n, DESPU√âS el cuerpo. Los nombres deben coincidir exactamente.</p>
                    </div>

                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-lg">
                        <h3 class="font-bold text-red-800 mb-2">Error: No veo mensajes de DBMS_OUTPUT</h3>
                        <p class="text-gray-700 mb-2"><strong>Causa:</strong> Olvidaste ejecutar SET SERVEROUTPUT ON</p>
                        <p class="text-gray-700"><strong>Soluci√≥n:</strong> Ejecuta <code class="bg-white px-2 py-1 rounded">SET SERVEROUTPUT ON;</code> antes de ejecutar tus bloques PL/SQL.</p>
                    </div>

                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-lg">
                        <h3 class="font-bold text-red-800 mb-2">Error: "ORA-00942: table or view does not exist"</h3>
                        <p class="text-gray-700 mb-2"><strong>Causa:</strong> La tabla AUDITORIA_PLATILLO no existe todav√≠a.</p>
                        <p class="text-gray-700"><strong>Soluci√≥n:</strong> Ejecutar primero el CREATE TABLE antes de crear el trigger.</p>
                    </div>

                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-lg">
                        <h3 class="font-bold text-red-800 mb-2">Error: El trigger no se ejecuta</h3>
                        <p class="text-gray-700 mb-2"><strong>Causa:</strong> El trigger solo se dispara en UPDATE. Si haces INSERT o DELETE, no funcionar√°.</p>
                        <p class="text-gray-700"><strong>Soluci√≥n:</strong> Verifica que est√©s haciendo UPDATE en PLATILLOS, no otra operaci√≥n.</p>
                    </div>

                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-lg">
                        <h3 class="font-bold text-yellow-800 mb-2">Advertencia: Olvidar el "/" despu√©s de bloques</h3>
                        <p class="text-gray-700 mb-2"><strong>Problema:</strong> Los bloques PL/SQL (paquetes, triggers) necesitan "/" en una l√≠nea nueva al final.</p>
                        <p class="text-gray-700"><strong>Buena pr√°ctica:</strong> Siempre terminar con:
                            <pre class="bg-white p-2 rounded mt-2 text-sm"><code>END nombre_paquete;
/</code></pre>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Extensiones Opcionales -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">üéÅ Extensiones Opcionales (Para Estudiantes Avanzados)</h2>
                
                <p class="text-gray-700 mb-6">
                    Si alg√∫n estudiante termina r√°pido y quiere m√°s desaf√≠os, estas son ideas que pueden implementar 
                    <strong>usando la misma estructura simple</strong>:
                </p>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                        <h3 class="font-bold text-blue-800 mb-3">üåü Nivel 1: Funci√≥n de B√∫squeda</h3>
                        <p class="text-gray-700 text-sm mb-3">
                            Agregar una funci√≥n al paquete que busque un platillo por nombre y retorne su ID:
                        </p>
                        <pre class="text-xs bg-white p-2 rounded"><code class="language-sql">FUNCTION buscar_platillo(p_nombre VARCHAR2) 
RETURN NUMBER;</code></pre>
                    </div>

                    <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                        <h3 class="font-bold text-green-800 mb-3">üåü Nivel 2: Procedimiento de Reporte</h3>
                        <p class="text-gray-700 text-sm mb-3">
                            Crear un procedimiento que imprima todos los platillos con bajo stock de ingredientes:
                        </p>
                        <pre class="text-xs bg-white p-2 rounded"><code class="language-sql">PROCEDURE mostrar_bajo_stock;</code></pre>
                    </div>

                    <div class="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-500">
                        <h3 class="font-bold text-purple-800 mb-3">üåü Nivel 3: Trigger con Validaci√≥n</h3>
                        <p class="text-gray-700 text-sm mb-3">
                            Crear un trigger BEFORE INSERT que valide que el nombre del platillo no est√© vac√≠o:
                        </p>
                        <pre class="text-xs bg-white p-2 rounded"><code class="language-sql">CREATE OR REPLACE TRIGGER TRG_VALIDAR_PLATILLO
BEFORE INSERT ON PLATILLOS
FOR EACH ROW
BEGIN
    IF :NEW.nombre IS NULL THEN
        RAISE_APPLICATION_ERROR(-20001, 
            'El nombre no puede estar vac√≠o');
    END IF;
END;</code></pre>
                    </div>

                    <div class="bg-orange-50 p-6 rounded-lg border-l-4 border-orange-500">
                        <h3 class="font-bold text-orange-800 mb-3">üåü Nivel 4: Auditor√≠a Completa</h3>
                        <p class="text-gray-700 text-sm mb-3">
                            Modificar el trigger para que tambi√©n capture INSERT y DELETE, no solo UPDATE:
                        </p>
                        <pre class="text-xs bg-white p-2 rounded"><code class="language-sql">CREATE OR REPLACE TRIGGER TRG_AUDITORIA_COMPLETA
AFTER INSERT OR UPDATE OR DELETE ON PLATILLOS
FOR EACH ROW
BEGIN
    IF INSERTING THEN
        -- guardar con acci√≥n 'INSERT'
    ELSIF UPDATING THEN
        -- guardar con acci√≥n 'UPDATE'
    ELSIF DELETING THEN
        -- guardar con acci√≥n 'DELETE'
    END IF;
END;</code></pre>
                    </div>
                </div>

                <div class="mt-6 bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                    <p class="text-gray-700">
                        <strong>üí° Nota:</strong> Estas extensiones NO son obligatorias. Son para estudiantes que quieran 
                        explorar m√°s despu√©s de dominar los conceptos b√°sicos. Pueden dar puntos extra si quieres motivarlos.
                    </p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p class="text-lg mb-4">üéì Tutorial PL/SQL Simplificado - Sistema Hospitalario</p>
            <p class="text-sm text-gray-400">Versi√≥n reducida y explicable para clases de 20 minutos</p>
            <div class="mt-6 pt-6 border-t border-gray-700">
                <p class="text-sm">‚úÖ C√≥digo total: ~60 l√≠neas | ‚úÖ Conceptos: 100% completos | ‚úÖ Explicable: L√≠nea por l√≠nea</p>
                <p class="text-sm mt-2">üí™ "Menos c√≥digo, mismos fundamentos, mejor comprensi√≥n"</p>
            </div>
        </div>
    </footer>

    <script>
        // Funci√≥n para copiar c√≥digo
        function copyCode(elementId) {
            const codeElement = document.getElementById(elementId);
            const code = codeElement.textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '‚úÖ Copiado!';
                button.classList.add('bg-green-500');
                button.classList.remove('bg-blue-500');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-500');
                    button.classList.add('bg-blue-500');
                }, 2000);
            }).catch(err => {
                alert('Error al copiar: ' + err);
            });
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Animaci√≥n de entrada
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '0';
                    entry.target.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        entry.target.style.transition = 'all 0.5s ease-out';
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }, 100);
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section-card').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>